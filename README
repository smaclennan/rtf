qmail + rtf + bogofilter

I have three folders in my Maildir to handle spam: Spam, LearnSPAM,
and Ham.

My .qmail file is two lines and looks like this:

|condredirect <username>-spam /home/seanm/bin/rtf -b
./Maildir/

You could replace rtf with bogofilter directly.

My .qmail-spam looks like this:

./Maildir/.Spam/

So spam will get redirected to the Spam folder and normal mail is
handled normally.

If an email is marked as ham but is really spam, I move the email to
the LearnSPAM folder.

If an email is marked as spam, but it really ham, I copy (not move)
the email to the Ham folder.

At a set time every day, cron runs the learnem.sh script. All the
files in the LearnSPAM folder are re-classified as spam and moved to
the Spam folder. All the files in the Ham folder are re-classified
as ham and removed.
